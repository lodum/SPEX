<!doctype html>
<html lang="en">

<head>
	<meta charset=utf-8 />
	<title>SPEX - Spatio-temporal content explorer</title>
	<link rel="stylesheet" href="css/spex.css">
	<style>
	html {
    overflow: -moz-scrollbars-vertical;
	}
	div {
    margin : 25px;
	} 
	</style>
</head>

<body>

<div id="helpDialog" title="SPEX - Help" >
		
		<h2>How to explore and query a SPARQL endpoint in space and time.</h2>				
				<p>With  <a href="http://lodum.de/" >SPEX</a>, you can query and simultaneously explore a SPARQL endpoint without knowing what it contains. 
				For example, you can find maps which represent Napoleon's invasion to Russia in 1812 together with all battle parts, 
				their place and their number of participants by interactively constructing the following visual query on the SPARQL endpoint <a href="http://data.uni-muenster.de/historicmaps/sparql" >http://data.uni-muenster.de/historicmaps/sparql</a>:</p>
				<p><img src="img/invasionexample.png" alt="spex bar" width="100%"></p>				
				<p>A query consists of nodes and relations and is displayed in the upper left part of the window. Nodes stand for things in the endpoint which fit into them, i.e., for those things that are found by the query. 
				Arrows depict relations between these things. </p>
				<p>Query results are displayed in the grey table below as well as in the map and the timeline on the right. Table columns correspond to node labels. Table cells contain particular things that fit into the corresponding node. 
				In this tutorial, you learn how to explore and query endpoints by space, time and content.
				<p><font color = "red">Note:</font> Red texts warn you if the endpoint is not responding.</p>
		<h3>How to explore</h3>	
		<h4>(1) Explore results in table.</h4>
			<ul><li>The number of results is shown in brackets above the results table. Scroll down to see all query results. 	</li>							
				<p><img src="img/spex_tut1.png" alt="spex bar" width="70%"></p>
				<li>Click on a result item name (URI link) to open its description on the Web.</li>	
				<p><img src="img/spex_tut12.png" alt="spex bar" width="70%"></p>
				<li>Hover mouse over a table result cell to zoom to the result in the space and time window. In order to fix the current space-time zoom, just click on the result cell (and double click to release again).</li>
				<p><img src="img/spex_tut9.png" alt="spex bar" width="60%"><img src="img/spex_tut9a.png" alt="spex bar" width="40%"></p>																
			</ul>
		<h4>(2) Explore results in space and time.</h4>
			If results have space or time values associated with them, these time or space extents are displayed in the map and on the timeline. For example, maps have a time period that they represent as well as a spatial extent.
			<ul>
			<li>Zoom into space / time by scrolling mouse over map / time line. Hover over a map object or time event to reveal the name of the corresponding result. </li>
				<p><img src="img/spex_tut81.png" alt="spex bar" width="40%"></p>
				<p><img src="img/spex_tut82.png" alt="spex bar" width="40%"></p>	
			</ul>
		<h3>How to query</h3>	
		<h4>(1) Start with an empty question and select a node.</h4>		
				<ul>
				<li>At the beginning, there is only a single node with question mark and without any further restriction, which therefore stands for all things in the endpoint.</li> 
				<p><img src="img/spex_tut01.png" alt="spex start" width="80px"></p>
				<li>You can make your query more specific by adding constraints to a node. For this purpose, select a node and open its menu by clicking on it. </p>
				<p><img src="img/spex_tut20.png" alt="spex bar" width="28%"></p>
				</ul>
		<h4>(2) Filter node by space and time.</h4>			
			<p>You can filter results in a node by the extent of the current map window or time window (provided that there are any results with space or time values).	</p>
				<ul>
				<li> For example, you can filter a node for all things located in Egypt by zooming the map window to Egypt and by pressing the link "Filter results by map window" in the  menu of the node.</li>
				<p><img src="img/spex_tut6.png" alt="spex bar" width="40%" ><img src="img/spex_tut6a.png" alt="spex bar" width="40%" ></p>
				<li>Remove the filter again by clicking on the corresponding link in the menu.</li>
				<p><img src="img/spex_tut7.png" alt="spex bar" width="25%" >
				</ul>
		<h4>(2) Restrict your query by restricting a node to a class.</h4>
				<p>You can restrict restrict the things in a node to be things in a certain class.</p>
			<ul>				
				<li> If you enter the text field or if you type in something, SPEX suggests classes you may be looking for. Only those classes which have non-empty results are displayed.
				<p><img src="img/spex_tut2a.png" alt="spex bar" width="30%"></p>
				<li>Select a class (e.g. "Map") and press return to restrict the things in this node to things of this class.</li>
				<p><img src="img/spex_tut2.png" alt="spex bar" width="30%"></p>	
				<li>See how the label of the node changes and how the results in this node are filtered to things in this class.				
				<p><img src="img/spex_tut21.png" alt="spex bar" width="80px"></p>
				<p><img src="img/spex_tut211.png" alt="spex bar" width="70%"></p>
			</ul>
					
		<h4>(3) Constrain nodes by relationship to other things.</h4>
			<ul>	
				<li>You can also constrain a node by specifying its relationship to other things. 
				In the node menu, relationship links are shown together with the number of available relationships in brackets. The first one of these ("Specify relationship to other things")
				adds relationships which point from this node to something else. For example, "dct:creator" relates maps to their creators. The second option ("Specify relationship from other things")
				adds relationships which point from something else to this node. For example, if a map consists of parts, those parts may be related by "dct:isPartOf" to the map.
				If you want to add such a relationship constraint, click on the corresponding link. 
				</li>
				<p><img src="img/spex_tut3.png" alt="spex bar" width="30%"></p>
				<li>Type in text or scroll in suggested list to select a relationship, for example the "dct:creator" of a map. </li>
				<p><img src="img/spex_tut4.png" alt="spex bar" width="55%"></p>
				<li>Press return to add a new edge to the query graph which restricts results to those things that stand in the chosen relationship. See how query results change.</li>
				<p><img src="img/spex_tut5.png" alt="spex bar" width="22%"></p>
				<p><img src="img/spex_tut52.png" alt="spex bar" width="80%"></p>				
			</ul>
			
		<h4>(3) Constrain nodes to particular things.</h4>
			<ul>
				<li>You can furthermore constrain nodes to particular things.  </li>
				<p><img src="img/spex_tut101.png" alt="spex bar" width="50px"></p>
				<li>In the node's menu, press button "Particular things".</li>
				<p><img src="img/spex_tut10.png" alt="spex bar" width="25%"></p>
				<li>Select a particular thing, such as a particular map creator, from the suggested list and press return. 
				The node looses its question mark and is labelled by the name of the thing and the query results change accordingly.</li>
				<p><img src="img/spex_tut11a.png" alt="spex bar" width="30%"> <img src="img/spex_tut11.png" alt="spex bar" width="60%"> </p>
			</ul>		
		
			
					
		<h4>If you want to know more ....</h4>	
		<p> Every node stands for particular things described in the endpoint. Nodes with question marks are variables that stand for all things that fit into this node. 
			You can add class labels to variable nodes in order to restrict things in that node to a class. Furthermore, you can add links to a node in order to filter out things with links to other things.
			Nodes without question marks stand for one particular thing. Nodes in light green indicate that spatial or temporal information is present, nodes in dark green indicate the contrary.</p>	
			The endpoint can be entered in the text field on the right.</p>
				<p><img src="img/spex_tut0.png" alt="spex bar" width="100%"></p>
		<h3>About</h2>
		<p>
		Spex is a spatio-temporal exploration and query tool for SPARQL endpoints. It is part of the development in <a href="http://lodum.de/">LODUM</a> and LIFE. For further information about SPEX development, see us on <a href="https://github.com/lodum/SPEX">Github</a>.
				
		</p>	
	</div>

</body>	
	